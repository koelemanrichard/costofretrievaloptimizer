
# Task: Update Content Brief Schema & Types

**Priority:** CRITICAL
**Objective:** Add missing columns to the `content_briefs` table and update the TypeScript definitions to match. This ensures that all data generated by the AI (Outline, SERP Analysis, etc.) can be persisted.

## 1. Database Migration
Create a file `docs/migrations/01_add_brief_columns.sql` with the following SQL:
```sql
ALTER TABLE public.content_briefs 
ADD COLUMN IF NOT EXISTS outline text,
ADD COLUMN IF NOT EXISTS serp_analysis jsonb,
ADD COLUMN IF NOT EXISTS visuals jsonb,
ADD COLUMN IF NOT EXISTS contextual_vectors jsonb,
ADD COLUMN IF NOT EXISTS contextual_bridge jsonb;
```

## 2. Update Types
**File:** `database.types.ts`
- Update `content_briefs` table definition in `Row`, `Insert`, and `Update` interfaces to include:
  - `outline: string | null`
  - `serp_analysis: Json | null`
  - `visuals: Json | null`
  - `contextual_vectors: Json | null`
  - `contextual_bridge: Json | null`

## 3. Verification
- Application compiles.
- User runs SQL script (Manual step).

**Status:** [x] Completed
